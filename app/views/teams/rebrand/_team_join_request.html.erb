<div class="mt-8">
  <h3 class="font-bold text-2xl mb-8">Ask to Join <%= team.name %></h3>
  <% if SeasonToggles.team_building_enabled? %>
    <% if send("current_#{current_scope}").requested_to_join?(team) %>
      <p><%= t("views.#{current_scope}.join_requests.new.already_requested") %></p>
    <% elsif send("current_#{current_scope}").is_on?(team) %>
      <p><%= t("views.#{current_scope}.join_requests.new.already_joined") %></p>
    <% elsif send("current_#{current_scope}").is_invited_to_join?(team) %>
      <p>
        <%= t("views.#{current_scope}.join_requests.new.already_invited",
          link: link_to(
            t("views.application.review_now"),
            send("#{current_scope}_team_member_invite_path",
                 current_scope.pending_invitation_for(team)),
            class: "button"
          )
        ).html_safe %>
      </p>
    <% else %>
      <p>
        <%= button_to(
          t("controllers.#{current_scope}.join_requests.create.link", name: team.name),
          send("#{current_scope}_join_requests_path",team_id: team.id),
          class: "tw-green-btn"
        ) %>
      </p>
      <p class="mt-8">
        Team <span class="italic text-energetic-blue"><%= team.name %> </span>will have the option to accept or your deny your request.
        They will be able to see your basic profile information, but not your contact information.
      </p>
    <% end %>
  <% else %>
    <p>
      You cannot send requests to join teams at this time,
      because Technovation has not enabled team building.
    </p>
  <% end %>
</div>