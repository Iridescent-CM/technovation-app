<% if requests.any? %>
  <% if SeasonToggles.judging_enabled_or_between? %>
    <p class="tw-hint">
      You cannot approve or decline invitations after the submission deadline.
    </p>
  <% else %>
    <p class="tw-hint">
      These people are waiting for your team's response
    </p>
  <% end %>

  <ul>
    <% requests.each do |join_request| %>
      <%= content_tag :li, id: dom_id(join_request) do %>
        <div class="flex flex-row space-x-4">
          <%= image_tag join_request.requestor.profile_image_url,
            class: "rounded-tl-sm rounded-tr-xl rounded-bl-xl rounded-br-sm w-12 h-12" %>
            <div>
              <p><%= join_request.requestor_full_name %></p>
              <p><%= join_request.requestor_scope_name %></p>

              <%= link_to "View Profile",
                send(
                  "#{current_scope}_#{join_request.requestor_scope_name}_path",
                  join_request.requestor,
                  back_title: "Back to your team",
                  back: send(
                    "#{current_scope}_team_path",
                    team
                  )
                ), class: "text-energetic-blue" %>

              <%= render "teams/rebrand/request_controls", join_request: join_request %>
            </div>
        </div>
      <% end %>
    <% end %>
  </ul>
<% end %>
