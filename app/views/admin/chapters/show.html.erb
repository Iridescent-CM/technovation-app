<div class="grid grid--justify-center">
  <div class="grid__col-auto grid__col--bleed-x grid__col--bleed-y">
    <div class="panel">
      <div class="grid__col-4">
        <h3><%= @chapter.name.presence || "TBD" %></h3>

        <dl>
          <dt>Organization</dt>
          <dd><%= @chapter.organization_name %></dd>

          <dt>Primary Contact</dt>
          <dd>
            <%= @chapter.primary_contact.present? ? (link_to @chapter.primary_contact.full_name, admin_participant_path(@chapter.primary_contact.account)) : "Not Set" %>
          </dd>

          <dt>Location</dt>
          <dd><%= @chapter.address_details.presence || "-" %></dd>

          <dt>Public Map Visibility</dt>
          <dd>
            <%= @chapter.visible_on_map? ?  "Display on map" : "Do not display on map"%>
          </dd>

          <dt>Chapter Links</dt>
          <dd>
            <ul>
              <li></li>
            </ul>
          </dd>
        </dl>
      </div>

      <div class="grid__col-12 grid__col--bleed-y">
        <dl>
          <dt>Summary</dt>

          <dd>
            <%= simple_format h(@chapter.summary.presence || "-") %>
          </dd>
        </dl>
      </div>
    </div>
  </div>
</div>

<div class="grid">
  <div class="grid__col-auto grid__col--bleed-x grid__col--bleed-y">
    <h3>
      Chapter Ambassadors
    </h3>

    <div class="panel">
      <ul>
        <% @chapter.chapter_ambassador_profiles.each do |chapter_ambassador| %>
          <li>
            <%= link_to chapter_ambassador.full_name, admin_participant_path(chapter_ambassador.account) %>
          </li>
        <% end %>
      </ul>

      <% if @pending_chapter_invites.present? %>
        <h4>Pending Invitations</h4>

        <ul>
          <% @pending_chapter_invites.each do |invite| %>
            <li>
              <strong><%= invite.name %></strong> <%= invite.email %>
            </li>
          <% end %>
        </ul>
      <% end %>

      <h4>Invite a Chapter Ambassador to this Chapter</h4>
      <%= simple_form_for @chapter_invite, url: admin_chapter_invites_path(@chapter), local: true do |f| %>
        <% if @chapter_invite.errors.any? %>
          <div class="notice notice--error">
            <ul class="reset">
              <% @chapter_invite.errors.full_messages.each do |msg| %>
                <li><%= msg %></li>
              <% end %>
            </ul>
          </div>
        <% end %>

        <div class="field">
          <%= f.label :name, "Name (displayed in the invite email)", for: :user_invitation_name %>
          <%= f.text_field :name, id: :user_invitation_name, placeholder: "Optional" %>
        </div>

        <div class="field">
          <%= f.label :email, for: :user_invitation_email %>
          <%= f.email_field :email, id: :user_invitation_email %>
        </div>

        <div class="actions margin--t-xlarge">
          <%= f.submit "Send invitation", class: "button" %>
        </div>
      <% end %>
    </div>
  </div>
</div>


