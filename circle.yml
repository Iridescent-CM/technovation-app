dependencies:
    pre:
      - git config --global user.email "ci@circleci.com"
      - git config --global user.name "Circle CI"
      - sudo apt-get update; sudo apt-get install pdftk

machine:
  ruby:
    version:
      2.4.1

  environment:
    PDFTK_PATH: /usr/bin/pdftk
    AIRBRAKE_PROJECT_ID: n-a
    AIRBRAKE_PROJECT_KEY: n-a
    NEW_RELIC_LICENSE_KEY: no-matter
    GOOGLE_MAPS_API_KEY: no-matter-in-test
    HOST_DOMAIN: localhost:3000
    AWS_BUCKET_NAME: technovation-attachments-test
    CAMPAIGN_MONITOR_API_KEY: no-matter-in-test
    STUDENT_LIST_ID: no-matter-in-test
    MENTOR_LIST_ID: no-matter-in-test
    JUDGE_LIST_ID: no-matter-in-test
    REGIONAL_AMBASSADOR_LIST_ID: no-matter-in-test
    PARENT_LIST_ID: no-matter-in-test
    REDIS_URL: redis://127.0.0.1:6379/0
    BONSAI_URL: localhost:9200
    GOOGLE_TIMEZONE_API_KEY: no-matter-in-test
    BING_MAPS_API_KEY: no-matter-in-test
    ENABLE_SUBMISSION_SCORES: true
    JUDGING_ROUND: QF

general:
  branches:
    ignore:
      - /.*-stable/

deployment:
  qa:
    branch: master
    heroku:
      appname: technovation-qa

  prod:
    branch: production
    heroku:
      appname: technovation
